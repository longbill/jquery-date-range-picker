// daterangepicker.js
// version : 0.0.8
// author : Chunlong Liu
// last updated at: 2015-09-19
// license : MIT
// www.jszen.com

(function(e){"function"===typeof define&&define.amd?define(["jquery","moment"],e):"object"===typeof exports&&"undefined"!==typeof module?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)})(function(e,f){e.dateRangePickerLanguages={"default":{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":"january february march april may june july august september october november december".split(" "),
shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days",
"default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},az:{selected:"Se\u00e7ildi:",day:" g\u00fcn",days:" g\u00fcn",apply:"t\u0259tbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":"yanvar fevral mart aprel may iyun iyul avqust sentyabr oktyabr noyabr dekabr".split(" "),shortcuts:"Q\u0131sayollar",past:"Ke\u00e7mi\u015f",following:"N\u00f6vb\u0259ti",
previous:"&nbsp;&nbsp;&nbsp;","prev-week":"\u00d6nc\u0259ki h\u0259ft\u0259","prev-month":"\u00d6nc\u0259ki ay","prev-year":"\u00d6nc\u0259ki il",next:"&nbsp;&nbsp;&nbsp;","next-week":"N\u00f6vb\u0259ti h\u0259ft\u0259","next-month":"N\u00f6vb\u0259ti ay","next-year":"N\u00f6vb\u0259ti il","less-than":"Tarix aral\u0131\u011f\u0131 %d g\u00fcnd\u0259n \u00e7ox olmamal\u0131d\u0131r","more-than":"Tarix aral\u0131\u011f\u0131 %d g\u00fcnd\u0259n az olmamal\u0131d\u0131r","default-more":"%d g\u00fcnd\u0259n \u00e7ox bir tarix se\u00e7in",
"default-single":"Tarix se\u00e7in","default-less":"%d g\u00fcnd\u0259n az bir tarix se\u00e7in","default-range":"%d v\u0259 %d g\u00fcn aral\u0131\u011f\u0131nda tarixl\u0259r se\u00e7in","default-default":"Tarix aral\u0131\u011f\u0131 se\u00e7in"},cn:{selected:"\u5df2\u9009\u62e9:",day:"\u5929",days:"\u5929",apply:"\u786e\u5b9a","week-1":"\u4e00","week-2":"\u4e8c","week-3":"\u4e09","week-4":"\u56db","week-5":"\u4e94","week-6":"\u516d","week-7":"\u65e5","week-number":"\u5468","month-name":"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),
shortcuts:"\u5feb\u6377\u9009\u62e9",past:"\u8fc7\u53bb",following:"\u5c06\u6765",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"\u4e0a\u5468","prev-month":"\u4e0a\u4e2a\u6708","prev-year":"\u53bb\u5e74",next:"&nbsp;&nbsp;&nbsp;","next-week":"\u4e0b\u5468","next-month":"\u4e0b\u4e2a\u6708","next-year":"\u660e\u5e74","less-than":"\u6240\u9009\u65e5\u671f\u8303\u56f4\u4e0d\u80fd\u5927\u4e8e%d\u5929","more-than":"\u6240\u9009\u65e5\u671f\u8303\u56f4\u4e0d\u80fd\u5c0f\u4e8e%d\u5929","default-more":"\u8bf7\u9009\u62e9\u5927\u4e8e%d\u5929\u7684\u65e5\u671f\u8303\u56f4",
"default-less":"\u8bf7\u9009\u62e9\u5c0f\u4e8e%d\u5929\u7684\u65e5\u671f\u8303\u56f4","default-range":"\u8bf7\u9009\u62e9%d\u5929\u5230%d\u5929\u7684\u65e5\u671f\u8303\u56f4","default-single":"\u8bf7\u9009\u62e9\u4e00\u4e2a\u65e5\u671f","default-default":"\u8bf7\u9009\u62e9\u4e00\u4e2a\u65e5\u671f\u8303\u56f4",time:"\u65f6\u95f4",hour:"\u5c0f\u65f6",minute:"\u5206\u949f"},cz:{selected:"Vybr\u00e1no:",day:"Den",days:"Dny",apply:"Zav\u0159\u00edt","week-1":"po","week-2":"\u00fat","week-3":"st","week-4":"\u010dt",
"week-5":"p\u00e1","week-6":"so","week-7":"ne","month-name":"leden \u00fanor b\u0159ezen duben kv\u011bten \u010derven \u010dervenec srpen z\u00e1\u0159\u00ed \u0159\u00edjen listopad prosinec".split(" "),shortcuts:"Zkratky",past:"po",following:"n\u00e1sleduj\u00edc\u00ed",previous:"p\u0159edchoz\u00ed","prev-week":"t\u00fdden","prev-month":"m\u011bs\u00edc","prev-year":"rok",next:"dal\u0161\u00ed","next-week":"t\u00fdden","next-month":"m\u011bs\u00edc","next-year":"rok","less-than":"Rozsah data by nem\u011bl b\u00fdt v\u011bt\u0161\u00ed ne\u017e %d dn\u016f",
"more-than":"Rozsah data by nem\u011bl b\u00fdt men\u0161\u00ed ne\u017e %d dn\u016f","default-more":"Pros\u00edm zvolte rozsah data v\u011bt\u0161\u00ed ne\u017e %d dn\u016f","default-single":"Pros\u00edm zvolte datum","default-less":"Pros\u00edm zvolte rozsah data men\u0161\u00ed ne\u017e %d dn\u016f","default-range":"Pros\u00edm zvolte rozsah data mezi %d a %d dny","default-default":"Pros\u00edm zvolte rozsah data"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schlie\u00dfen","week-1":"mo",
"week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":"januar februar m\u00e4rz april mai juni juli august september oktober november dezember".split(" "),shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"N\u00e4chste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht gr\u00f6\u00dfer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage",
"default-more":"Bitte mindestens %d Tage ausw\u00e4hlen","default-single":"Bitte ein Datum ausw\u00e4hlen","default-less":"Bitte weniger als %d Tage ausw\u00e4hlen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen ausw\u00e4hlen","default-default":"Bitte ein Start- und Enddatum ausw\u00e4hlen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Dia",days:"Dias",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa",
"week-7":"do","month-name":"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"A\u00f1o",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"A\u00f1o","less-than":"El rango no deberia ser mayor de %d dias","more-than":"El rango no deberia ser menor de %d dias","default-more":"Por favor selecciona un rango mayor a %d dias",
"default-single":"Por favor selecciona un dia","default-less":"Por favor selecciona un rango menor a %d dias","default-range":"Por favor selecciona un rango entre %d y %d dias","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"S\u00e9lection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),
shortcuts:"Raccourcis",past:"Pass\u00e9",following:"Suivant",previous:"Pr\u00e9c\u00e9dent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Ann\u00e9e",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Ann\u00e9e","less-than":"L'intervalle ne doit pas \u00eatre sup\u00e9rieure \u00e0 %d jours","more-than":"L'intervalle ne doit pas \u00eatre inf\u00e9rieure \u00e0 %d jours","default-more":"Merci de choisir une intervalle sup\u00e9rieure \u00e0 %d jours","default-single":"Merci de choisir une date",
"default-less":"Merci de choisir une intervalle inf\u00e9rieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},hu:{selected:"Kiv\u00e1lasztva:",day:"Nap",days:"Nap",apply:"Ok","week-1":"h","week-2":"k","week-3":"sz","week-4":"cs","week-5":"p","week-6":"sz","week-7":"v","month-name":"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),
shortcuts:"Gyorsv\u00e1laszt\u00f3",past:"M\u00falt",following:"K\u00f6vetkez\u0151",previous:"El\u0151z\u0151","prev-week":"H\u00e9t","prev-month":"H\u00f3nap","prev-year":"\u00c9v",next:"K\u00f6vetkez\u0151","next-week":"H\u00e9t","next-month":"H\u00f3nap","next-year":"\u00c9v","less-than":"A kiv\u00e1laszt\u00e1s nem lehet t\u00f6bb %d napn\u00e1l","more-than":"A kiv\u00e1laszt\u00e1s nem lehet t\u00f6bb %d napn\u00e1l","default-more":"V\u00e1lassz ki egy id\u0151szakot ami hosszabb mint %d nap",
"default-single":"V\u00e1lassz egy napot","default-less":"V\u00e1lassz ki egy id\u0151szakot ami r\u00f6videbb mint %d nap","default-range":"V\u00e1lassz ki egy %d - %d nap hossz\u00fa id\u0151szakot","default-default":"V\u00e1lassz ki egy id\u0151szakot"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",apply:"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do","month-name":"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),
shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni",
"default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},no:{selected:"Valgt:",day:"Dag",days:"Dager",apply:"Lukk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"l\u00f8","week-7":"s\u00f8","month-name":"januar februar mars april mai juni juli august september oktober november desember".split(" "),shortcuts:"Snarveier","custom-values":"Egendefinerte Verdier",past:"Over",following:"F\u00f8lger",previous:"Forrige",
"prev-week":"Uke","prev-month":"M\u00e5ned","prev-year":"\u00c5r",next:"Neste","next-week":"Uke","next-month":"M\u00e5ned","next-year":"\u00c5r","less-than":"Datoperioden skal ikkje v\u00e6re lengre enn %d dager","more-than":"Datoperioden skal ikkje v\u00e6re kortere enn %d dager","default-more":"Vennligst velg ein datoperiode lengre enn %d dager","default-single":"Vennligst velg ein dato","default-less":"Vennligst velg ein datoperiode mindre enn %d dager","default-range":"Vennligst velg ein datoperiode mellom %d og %d dager",
"default-default":"Vennligst velg ein datoperiode",time:"Tid",hour:"Time",minute:"Minutter"},nl:{selected:"Geselecteerd:",day:"Dag",days:"Dagen",apply:"Ok","week-1":"ma","week-2":"di","week-3":"wo","week-4":"do","week-5":"vr","week-6":"za","week-7":"zo","month-name":"januari februari maart april mei juni juli augustus september october november december".split(" "),shortcuts:"Snelkoppelingen","custom-values":"Aangepaste waarden",past:"Verleden",following:"Komend",previous:"Vorige","prev-week":"Week",
"prev-month":"Maand","prev-year":"Jaar",next:"Volgende","next-week":"Week","next-month":"Maand","next-year":"Jaar","less-than":"Interval moet langer dan %d dagen zijn","more-than":"Interval mag niet minder dan %d dagen zijn","default-more":"Selecteer een interval langer dan %dagen","default-single":"Selecteer een datum","default-less":"Selecteer een interval minder dan %d dagen","default-range":"Selecteer een interval tussen %d en %d dagen","default-default":"Selecteer een interval",time:"Tijd",hour:"Uur",
minute:"Minuut"},ru:{selected:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e:",day:"\u0414\u0435\u043d\u044c",days:"\u0414\u043d\u0435\u0439",apply:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","week-1":"\u043f\u043d","week-2":"\u0432\u0442","week-3":"\u0441\u0440","week-4":"\u0447\u0442","week-5":"\u043f\u0442","week-6":"\u0441\u0431","week-7":"\u0432\u0441","month-name":"\u044f\u043d\u0432\u0430\u0440\u044c \u0444\u0435\u0432\u0440\u0430\u043b\u044c \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0435\u043b\u044c \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u043e\u043a\u0442\u044f\u0431\u0440\u044c \u043d\u043e\u044f\u0431\u0440\u044c \u0434\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),
shortcuts:"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u044b\u0431\u043e\u0440",past:"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435",following:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"\u041d\u0435\u0434\u0435\u043b\u044f","prev-month":"\u041c\u0435\u0441\u044f\u0446","prev-year":"\u0413\u043e\u0434",next:"&nbsp;&nbsp;&nbsp;","next-week":"\u041d\u0435\u0434\u0435\u043b\u044f","next-month":"\u041c\u0435\u0441\u044f\u0446","next-year":"\u0413\u043e\u0434",
"less-than":"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","more-than":"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","default-more":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0431\u043e\u043b\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439",
"default-single":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443","default-less":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0435\u043d\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","default-range":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0435\u0436\u0434\u0443 %d \u0438 %d \u0434\u043d\u044f\u043c\u0438",
"default-default":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d"},pl:{selected:"Wybrany:",day:"Dzie\u0144",days:"Dni",apply:"Zamknij","week-1":"pon","week-2":"wt","week-3":"\u015br","week-4":"czw","week-5":"pt","week-6":"so","week-7":"nd","month-name":"stycze\u0144 luty marzec kwiecie\u0144 maj czerwiec lipiec sierpie\u0144 wrzesie\u0144 pa\u017adziernik listopad grudzie\u0144".split(" "),
shortcuts:"Skr\u00f3ty","custom-values":"Niestandardowe warto\u015bci",past:"Przesz\u0142e",following:"Nast\u0119pne",previous:"Poprzednie","prev-week":"tydzie\u0144","prev-month":"miesi\u0105c","prev-year":"rok",next:"Nast\u0119pny","next-week":"tydzie\u0144","next-month":"miesi\u0105c","next-year":"rok","less-than":"Okres nie powinien by\u0107 d\u0142u\u017cszy ni\u017c %d dni","more-than":"Okres nie powinien by\u0107 kr\u00f3tszy ni\u017c  %d ni","default-more":"Wybierz okres d\u0142u\u017cszy ni\u017c %d dni",
"default-single":"Wybierz dat\u0119","default-less":"Wybierz okres kr\u00f3tszy ni\u017c %d dni","default-range":"Wybierz okres trwaj\u0105cy od %d do %d dni","default-default":"Wybierz okres",time:"Czas",hour:"Godzina",minute:"Minuta"}};e.fn.dateRangePicker=function(a){function E(){if(!a.inline){var b=e(m).offset();if("relative"==e(a.container).css("position")){var c=e(a.container).offset();d.css({top:b.top-c.top+e(m).outerHeight()+4,left:b.left-c.left})}else 460>b.left?d.css({top:b.top+e(m).outerHeight()+
parseInt(e("body").css("border-top")||0,10),left:b.left}):d.css({top:b.top+e(m).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:b.left+e(m).width()-d.width()-16})}}function J(a){E();K();d.slideDown(a,function(){e(m).trigger("datepicker-opened",{relatedTarget:d})});e(m).trigger("datepicker-open",{relatedTarget:d});w();Q()}function K(){var b=a.getValue.call(B);if((b=b?b.split(a.separator):"")&&(1==b.length&&a.singleDate||2<=b.length)){var c=a.format;c.match(/Do/)&&(c=c.replace(/Do/,"D"),
b[0]=b[0].replace(/(\d+)(th|nd|st)/,"$1"),2<=b.length&&(b[1]=b[1].replace(/(\d+)(th|nd|st)/,"$1")));x=!1;2<=b.length?L(f(b[0],c,f.locale(a.language)).toDate(),f(b[1],c,f.locale(a.language)).toDate()):1==b.length&&a.singleDate&&(b=f(b[0],c,f.locale(a.language)).toDate(),c=!0,a.startDate&&0>n(b,a.startDate)&&(c=!1),a.endDate&&0<n(b,a.endDate)&&(c=!1),c?(a.start=b.getTime(),a.time.enabled&&A("time1",b),l(b,"month1"),w(),y(),F()):l(a.startDate,"month1"));x=!0}}function Q(){var a=d.find(".gap").css("margin-left");
a&&(a=parseInt(a));var c=d.find(".month1").width(),a=d.find(".gap").width()+(a?2*a:0),h=d.find(".month2").width();d.find(".month-wrapper").width(c+a+h)}function A(a,c){d.find("."+a+" input[type=range].hour-range").val(f(c).hours());d.find("."+a+" input[type=range].minute-range").val(f(c).minutes());M(a,f(c).format("HH"),f(c).format("mm"))}function N(b,c){a[b]=parseInt(f(parseInt(c)).startOf("day").add(f(a[b+"Time"]).format("HH"),"h").add(f(a[b+"Time"]).format("mm"),"m").valueOf())}function M(b,c,
h){function g(b,g){var d=g.format("HH"),e=g.format("mm");a[b]=g.startOf("day").add(c||d,"h").add(h||e,"m").valueOf()}c&&d.find("."+b+" .hour-val").text(c);h&&d.find("."+b+" .minute-val").text(h);switch(b){case "time1":a.start&&g("start",f(a.start));g("startTime",f(a.startTime||f().valueOf()));break;case "time2":a.end&&g("end",f(a.end)),g("endTime",f(a.endTime||f().valueOf()))}z();y();u()}function R(b){var c=b;"week-range"===a.batchMode?c="monday"===a.startOfWeek?f(parseInt(b)).startOf("isoweek").valueOf():
f(parseInt(b)).startOf("week").valueOf():"month-range"===a.batchMode&&(c=f(parseInt(b)).startOf("month").valueOf());return c}function S(b){var c=b;"week-range"===a.batchMode?c="monday"===a.startOfWeek?f(parseInt(b)).endOf("isoweek").valueOf():f(parseInt(b)).endOf("week").valueOf():"month"===a.batchMode&&(c=f(parseInt(b)).endOf("month").valueOf());return c}function O(b){b=parseInt(b,10);if(a.startDate&&0>n(b,a.startDate)||a.endDate&&0<n(b,a.endDate))return!1;if(a.start&&!a.end&&!a.singleDate){if(0<
a.maxDays&&D(b,a.start)>a.maxDays||0<a.minDays&&D(b,a.start)<a.minDays||a.selectForward&&b<a.start||a.selectBackward&&b>a.start)return!1;if(a.beforeShowDay&&"function"==typeof a.beforeShowDay){for(var c=!0;1<D(b,a.start);){if(!a.beforeShowDay(new Date(b))[0]){c=!1;break}b>a.start&&(b-=864E5);b<a.start&&(b+=864E5)}if(!c)return!1}}return!0}function P(){d.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid");a.start&&!a.end&&d.find(".day.toMonth.valid").each(function(){var a=parseInt(e(this).attr("time"),
10);O(a)?e(this).addClass("valid tmp").removeClass("invalid"):e(this).addClass("invalid tmp").removeClass("valid")});return!0}function T(b){var c=parseInt(b.attr("time")),h="";if(b.hasClass("has-tooltip")&&b.attr("data-tooltip"))h='<span style="white-space:nowrap">'+b.attr("data-tooltip")+"</span>";else if(!b.hasClass("invalid"))if(a.singleDate)d.find(".day.hovering").removeClass("hovering"),b.addClass("hovering");else if(d.find(".day").each(function(){var b=parseInt(e(this).attr("time"));b==c?e(this).addClass("hovering"):
e(this).removeClass("hovering");a.start&&!a.end&&(a.start<b&&c>=b||a.start>b&&c<=b)?e(this).addClass("hovering"):e(this).removeClass("hovering")}),a.start&&!a.end){var g=D(c,a.start);a.hoveringTooltip&&("function"==typeof a.hoveringTooltip?h=a.hoveringTooltip(g,a.start,c):!0===a.hoveringTooltip&&1<g&&(h=g+" "+k("days")))}if(h){var g=b.offset(),f=d.offset(),C=g.left-f.left,l=g.top-f.top,C=C+b.width()/2,m=d.find(".date-range-length-tip");b=m.css({visibility:"hidden",display:"none"}).html(h).width();
h=m.height();C-=b/2;l-=h;setTimeout(function(){m.css({left:C,top:l,display:"block",visibility:"visible"})},10)}else d.find(".date-range-length-tip").hide()}function F(){!0===a.singleDate?x&&a.start&&a.autoClose&&v():x&&a.start&&a.end&&a.autoClose&&v()}function z(){var b=Math.ceil((a.end-a.start)/864E5)+1;a.singleDate?a.start&&!a.end?d.find(".drp_top-bar").removeClass("error").addClass("normal"):d.find(".drp_top-bar").removeClass("error").removeClass("normal"):a.maxDays&&b>a.maxDays?(a.start=!1,a.end=
!1,d.find(".day").removeClass("checked"),d.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(k("less-than").replace("%d",a.maxDays))):a.minDays&&b<a.minDays?(a.start=!1,a.end=!1,d.find(".day").removeClass("checked"),d.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(k("more-than").replace("%d",a.minDays))):a.start||a.end?d.find(".drp_top-bar").removeClass("error").addClass("normal"):d.find(".drp_top-bar").removeClass("error").removeClass("normal");
a.singleDate&&a.start&&!a.end||!a.singleDate&&a.start&&a.end?d.find(".apply-btn").removeClass("disabled"):d.find(".apply-btn").addClass("disabled");a.batchMode&&(a.start&&a.startDate&&0>n(a.start,a.startDate)||a.end&&a.endDate&&0<n(a.end,a.endDate))&&(a.start=!1,a.end=!1,d.find(".day").removeClass("checked"))}function y(b,c){d.find(".start-day").html("...");d.find(".end-day").html("...");d.find(".selected-days").hide();var h;a.start&&d.find(".start-day").html(r(new Date(parseInt(a.start))));a.end&&
d.find(".end-day").html(r(new Date(parseInt(a.end))));a.start&&a.singleDate?(d.find(".apply-btn").removeClass("disabled"),h=r(new Date(a.start)),a.setValue.call(B,h,r(new Date(a.start)),r(new Date(a.end))),x&&e(m).trigger("datepicker-change",{value:h,date1:new Date(a.start)})):a.start&&a.end?(d.find(".selected-days").show().find(".selected-days-num").html(D(a.end,a.start)),d.find(".apply-btn").removeClass("disabled"),h=r(new Date(a.start))+a.separator+r(new Date(a.end)),a.setValue.call(B,h,r(new Date(a.start)),
r(new Date(a.end))),x&&!c&&e(m).trigger("datepicker-change",{value:h,date1:new Date(a.start),date2:new Date(a.end)})):b?d.find(".apply-btn").removeClass("disabled"):d.find(".apply-btn").addClass("disabled")}function D(a,c){return Math.abs(Math.floor(U(a)/864E5)-Math.floor(U(c)/864E5))+1}function L(b,c,h){if(b.getTime()>c.getTime()){var g=c;c=b;b=g}g=!0;a.startDate&&0>n(b,a.startDate)&&(g=!1);a.endDate&&0<n(c,a.endDate)&&(g=!1);if(g){a.start=b.getTime();a.end=c.getTime();a.time.enabled&&(A("time1",
b),A("time2",c));if(a.stickyMonths||0<n(b,c)&&0==p(b,c))a.lookBehind?b=t(c):c=q(b);a.stickyMonths&&0<p(c,a.endDate)&&(b=t(b),c=t(c));a.stickyMonths||0==p(b,c)&&(a.lookBehind?b=t(c):c=q(b));l(b,"month1");l(c,"month2");w();z();y(!1,h);F()}else l(a.startDate,"month1"),l(q(a.startDate),"month2"),w()}function u(){if(a.start||a.end)d.find(".day").each(function(){var b=parseInt(e(this).attr("time")),c=a.start,h=a.end;a.time.enabled&&(b=f(b).startOf("day").valueOf(),c=f(c||f().valueOf()).startOf("day").valueOf(),
h=f(h||f().valueOf()).startOf("day").valueOf());a.start&&a.end&&h>=b&&c<=b||a.start&&!a.end&&f(c).format("YYYY-MM-DD")==f(b).format("YYYY-MM-DD")?e(this).addClass("checked"):e(this).removeClass("checked");a.start&&f(c).format("YYYY-MM-DD")==f(b).format("YYYY-MM-DD")?e(this).addClass("first-date-selected"):e(this).removeClass("first-date-selected");a.end&&f(h).format("YYYY-MM-DD")==f(b).format("YYYY-MM-DD")?e(this).addClass("last-date-selected"):e(this).removeClass("last-date-selected")}),d.find(".week-number").each(function(){e(this).attr("data-start-time")==
a.startWeek&&e(this).addClass("week-number-selected")})}function l(b,c){b=f(b).toDate();var h;h=b.getMonth();h=k("month-name")[h];d.find("."+c+" .month-name").html(h+" "+b.getFullYear());d.find("."+c+" tbody").html(Y(b));a[c]=b;P()}function G(a,c){d.find("."+c).append(Z());A(c,a)}function r(b){return f(b).format(a.format)}function w(){u();var b=parseInt(f(a.month1).format("YYYYMM")),c=parseInt(f(a.month2).format("YYYYMM")),b=Math.abs(b-c);1<b&&89!=b?d.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility",
"visible"):d.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");b=d.find("table.month1").height();c=d.find("table.month2").height();d.find(".gap").height(Math.max(b,c)+10)}function v(){a.alwaysOpen||(e(d).slideUp(a.duration,function(){e(m).data("date-picker-opened",!1);e(m).trigger("datepicker-closed",{relatedTarget:d})}),e(m).trigger("datepicker-close",{relatedTarget:d}))}function p(a,c){var h=parseInt(f(a).format("YYYYMM"))-parseInt(f(c).format("YYYYMM"));return 0<
h?1:0==h?0:-1}function n(a,c){var h=parseInt(f(a).format("YYYYMMDD"))-parseInt(f(c).format("YYYYMMDD"));return 0<h?1:0==h?0:-1}function q(a){return f(a).add(1,"months").toDate()}function t(a){return f(a).add(-1,"months").toDate()}function Z(){var a;a="<div>"+("\t<span>"+k("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span>');a+="</div>";a+='<div class="hour">';a+="\t<label>"+k("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label>';
a+="</div>";a+='<div class="minute">';a+="\t<label>"+k("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label>';return a+="</div>"}function aa(){var b='<div class="date-picker-wrapper';a.extraClass&&(b+=" "+a.extraClass+" ");a.singleDate&&(b+=" single-date ");a.showShortcuts||(b+=" no-shortcuts ");a.showTopbar||(b+=" no-topbar ");a.customTopBar&&(b+=" custom-topbar ");b+='">';if(a.showTopbar){b+='<div class="drp_top-bar">';a.customTopBar?("function"==typeof a.customTopBar&&
(a.customTopBar=a.customTopBar()),b+='<div class="custom-top">'+a.customTopBar+"</div>"):(b=b+'<div class="normal-top">'+('<span style="color:#333">'+k("selected")+' </span> <b class="start-day">...</b>'),a.singleDate||(b+=' <span class="separator-day">'+a.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+k("days")+")</i>"),b+="</div>",b+='<div class="error-top">error</div>',b+='<div class="default-top">default</div>');var c=b;klass=
"";!0===a.autoClose&&(klass+=" hide");""!==a.applyBtnClass&&(klass+=" "+a.applyBtnClass);b=c+('<input type="button" class="apply-btn disabled'+klass+'" value="'+k("apply")+'" />');b+="</div>"}c=a.showWeekNumbers?6:5;b+='<div class="month-wrapper">';b+='<table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="'+c+'" class="month-name"></th><th style="width:27px;">'+(a.singleDate||!a.stickyMonths?
'<span class="next">&gt;</span>':"")+'</th></tr><tr class="week-name">'+V()+"</thead><tbody></tbody></table>";if(!a.singleDate&&!a.singleMonth){var h;h=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'];for(var g=0;20>g;g++){var d="",d=d+'<div class="gap-line">',d=d+'\t<div class="gap-1"></div>',d=d+'\t<div class="gap-2"></div>',d=d+'\t<div class="gap-3"></div>',d=d+"</div>";h.push(d)}h.push("</div>");h=h.join("");b=b+('<div class="gap">'+h+"</div>")+('<table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;">'+
(a.stickyMonths?"":'<span class="prev">&lt;</span>')+'</th><th colspan="'+c+'" class="month-name"></th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+V()+"</thead><tbody></tbody></table>")}b+='<div style="clear:both;height:0;font-size:0;"></div>';b+='<div class="time">';b+='<div class="time1"></div>';a.singleDate||(b+='<div class="time2"></div>');b+="</div>";b+='<div style="clear:both;height:0;font-size:0;"></div>';b+="</div>";b+='<div class="footer">';if(a.showShortcuts){b+=
'<div class="shortcuts"><b>'+k("shortcuts")+"</b>";if(h=a.shortcuts){if(h["prev-days"]&&0<h["prev-days"].length){b+='&nbsp;<span class="prev-days">'+k("past");for(c=0;c<h["prev-days"].length;c++)g=h["prev-days"][c],g+=1<h["prev-days"][c]?k("days"):k("day"),b+=' <a href="javascript:;" shortcut="day,-'+h["prev-days"][c]+'">'+g+"</a>";b+="</span>"}if(h["next-days"]&&0<h["next-days"].length){b+='&nbsp;<span class="next-days">'+k("following");for(c=0;c<h["next-days"].length;c++)g=h["next-days"][c],g+=
1<h["next-days"][c]?k("days"):k("day"),b+=' <a href="javascript:;" shortcut="day,'+h["next-days"][c]+'">'+g+"</a>";b+="</span>"}if(h.prev&&0<h.prev.length){b+='&nbsp;<span class="prev-buttons">'+k("previous");for(c=0;c<h.prev.length;c++)g=k("prev-"+h.prev[c]),b+=' <a href="javascript:;" shortcut="prev,'+h.prev[c]+'">'+g+"</a>";b+="</span>"}if(h.next&&0<h.next.length){b+='&nbsp;<span class="next-buttons">'+k("next");for(c=0;c<h.next.length;c++)g=k("next-"+h.next[c]),b+=' <a href="javascript:;" shortcut="next,'+
h.next[c]+'">'+g+"</a>";b+="</span>"}}if(a.customShortcuts)for(c=0;c<a.customShortcuts.length;c++)b+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+a.customShortcuts[c].name+"</a></span>";b+="</div>"}if(a.showCustomValues&&(b+='<div class="customValues"><b>'+(a.customValueLabel||k("custom-values"))+"</b>",a.customValues))for(c=0;c<a.customValues.length;c++)h=a.customValues[c],b+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+h.value+'">'+h.name+
"</a></span>";b+="</div></div>";return e(b)}function V(){var b=a.showWeekNumbers?"<th>"+k("week-number")+"</th>":"",c="";"monday"==a.startOfWeek?(c+=b+"<th>"+k("week-1")+"</th>",c+="<th>"+k("week-2")+"</th>",c+="<th>"+k("week-3")+"</th>",c+="<th>"+k("week-4")+"</th>",c+="<th>"+k("week-5")+"</th>",c+="<th>"+k("week-6")+"</th>",c+="<th>"+k("week-7")+"</th>"):(c+=b+"<th>"+k("week-7")+"</th>",c+="<th>"+k("week-1")+"</th>",c+="<th>"+k("week-2")+"</th>",c+="<th>"+k("week-3")+"</th>",c+="<th>"+k("week-4")+
"</th>",c+="<th>"+k("week-5")+"</th>",c+="<th>"+k("week-6")+"</th>");return c}function H(b){b=f(b);return a.startDate&&b.endOf("month").isBefore(a.startDate)||a.endDate&&b.startOf("month").isAfter(a.endDate)?!0:!1}function W(a,c,h){var g=jQuery.extend(!0,{},a);jQuery.each(c,function(a,b){var c=b(h),d;for(d in c)g.hasOwnProperty(d)?g[d]+=c[d]:g[d]=c[d]});attrString="";for(var d in g)g.hasOwnProperty(d)&&(attrString+=d+'="'+g[d]+'" ');return attrString}function U(b){f.isMoment(b)&&(b=b.toDate().getTime());
"object"==typeof b&&b.getTime&&(b=b.getTime());"string"!=typeof b||b.match(/\d{13}/)||(b=f(b,a.format).toDate().getTime());return b=parseInt(b,10)-6E4*(new Date).getTimezoneOffset()}function Y(b){var c=[];b.setDate(1);b.getTime();var h=new Date,g=b.getDay();0==g&&"monday"==a.startOfWeek&&(g=7);if(0<g)for(var d=g;0<d;d--){var e=new Date(b.getTime()-864E5*d),k=O(e.getTime());a.startDate&&0>n(e,a.startDate)&&(k=!1);a.endDate&&0<n(e,a.endDate)&&(k=!1);c.push({date:e,type:"lastMonth",day:e.getDate(),time:e.getTime(),
valid:k})}e=b.getMonth();for(d=0;40>d;d++)g=f(b).add(d,"days").toDate(),k=O(g.getTime()),a.startDate&&0>n(g,a.startDate)&&(k=!1),a.endDate&&0<n(g,a.endDate)&&(k=!1),c.push({date:g,type:g.getMonth()==e?"toMonth":"nextMonth",day:g.getDate(),time:g.getTime(),valid:k});b=[];for(d=0;6>d&&"nextMonth"!=c[7*d].type;d++){b.push("<tr>");for(e=0;7>e;e++){g=c[7*d+("monday"==a.startOfWeek?e+1:e)];k=f(g.time).format("L")==f(h).format("L");g.extraClass="";g.tooltip="";if(g.valid&&a.beforeShowDay&&"function"==typeof a.beforeShowDay){var l=
a.beforeShowDay(f(g.time).toDate());g.valid=l[0];g.extraClass=l[1]||"";g.tooltip=l[2]||"";""!=g.tooltip&&(g.extraClass+=" has-tooltip ")}todayDivAttr={time:g.time,"data-tooltip":g.tooltip,"class":"day "+g.type+" "+g.extraClass+" "+(g.valid?"valid":"invalid")+" "+(k?"real-today":"")};0==e&&a.showWeekNumbers&&b.push('<td><div class="week-number" data-start-time="'+g.time+'">'+a.getWeekNumber(g.date)+"</div></td>");b.push("<td "+W({},a.dayTdAttrs,g)+"><div "+W(todayDivAttr,a.dayDivAttrs,g)+">"+ba(g.time,
g.day)+"</div></td>")}b.push("</tr>")}return b.join("")}function ba(b,c){return a.showDateFilter&&"function"==typeof a.showDateFilter?a.showDateFilter(b,c):c}function k(a){var c=a.toLowerCase(),h=a in I?I[a]:c in I?I[c]:null,g=e.dateRangePickerLanguages["default"];null==h&&(h=a in g?g[a]:c in g?g[c]:"");return h}a||(a={});a=e.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return e(this).val()},setValue:function(a){e(this).attr("readonly")||
e(this).is(":disabled")||a==e(this).val()||e(this).val(a)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(a,c,h){return 1<a?a+" "+k("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(a){return f(a).format("w")}},
a);a.start=!1;a.end=!1;a.startWeek=!1;a.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints;a.isTouchDevice&&(a.hoveringTooltip=!1);"auto"==a.singleMonth&&(a.singleMonth=480>e(window).width());a.singleMonth&&(a.stickyMonths=!1);a.singleDate&&(a.singleMonth=!0);a.showTopbar||(a.autoClose=!0);a.startDate&&"string"==typeof a.startDate&&(a.startDate=f(a.startDate,a.format).toDate());a.endDate&&"string"==typeof a.endDate&&(a.endDate=f(a.endDate,a.format).toDate());var I=function(){if("auto"==
a.language){var b=navigator.language?navigator.language:navigator.browserLanguage;if(!b)return e.dateRangePickerLanguages["default"];var b=b.toLowerCase(),c;for(c in e.dateRangePickerLanguages)if(-1!=b.indexOf(c))return e.dateRangePickerLanguages[c];return e.dateRangePickerLanguages["default"]}return a.language&&a.language in e.dateRangePickerLanguages?e.dateRangePickerLanguages[a.language]:e.dateRangePickerLanguages["default"]}(),d,x=!1,m=this,B=e(m).get(0),X;e(this).unbind(".datepicker").bind("click.datepicker",
function(b){d.is(":visible")||J(a.duration)}).bind("change.datepicker",function(a){K()}).bind("keyup.datepicker",function(){try{clearTimeout(X)}catch(a){}X=setTimeout(function(){K()},2E3)});(function(){var b=this;if(e(this).data("date-picker-opened"))v();else{e(this).data("date-picker-opened",!0);d=aa().hide();d.append('<div class="date-range-length-tip"></div>');d.delegate(".day","mouseleave",function(){d.find(".date-range-length-tip").hide()});e(a.container).append(d);a.inline?d.addClass("inline-wrapper"):
E();a.alwaysOpen&&d.find(".apply-btn").hide();var c=a.defaultTime?a.defaultTime:new Date;a.lookBehind?(a.startDate&&0>p(c,a.startDate)&&(c=q(f(a.startDate).toDate())),a.endDate&&0<p(c,a.endDate)&&(c=f(a.endDate).toDate()),l(t(c),"month1"),l(c,"month2")):(a.startDate&&0>p(c,a.startDate)&&(c=f(a.startDate).toDate()),a.endDate&&0<p(q(c),a.endDate)&&(c=t(f(a.endDate).toDate())),l(c,"month1"),l(q(c),"month2"));a.singleDate&&(a.startDate&&0>p(c,a.startDate)&&(c=f(a.startDate).toDate()),a.endDate&&0<p(c,
a.endDate)&&(c=f(a.endDate).toDate()),l(c,"month1"));a.time.enabled&&(a.startDate&&a.endDate||a.start&&a.end?(G(f(a.start||a.startDate).toDate(),"time1"),G(f(a.end||a.endDate).toDate(),"time2")):(G(c,"time1"),G(c,"time2")));c="";c=a.singleDate?k("default-single"):a.minDays&&a.maxDays?k("default-range"):a.minDays?k("default-more"):a.maxDays?k("default-less"):k("default-default");d.find(".default-top").html(c.replace(/\%d/,a.minDays).replace(/\%d/,a.maxDays));a.singleMonth?d.addClass("single-month"):
d.addClass("two-months");setTimeout(function(){Q();x=!0},0);d.click(function(a){a.stopPropagation()});e(document).bind("click.datepicker",function(a){var c=b[0];a.target==c||void 0!==c.childNodes&&0<=e.inArray(a.target,c.childNodes)||d.is(":visible")&&v()});d.find(".next").click(function(){if(a.stickyMonths){var b=q(a.month1),c=q(a.month2);H(c)||!a.singleDate&&0<=p(b,c)||(l(b,"month1"),l(c,"month2"),u())}else c=(b=e(this).parents("table").hasClass("month2"))?a.month2:a.month1,c=q(c),!a.singleMonth&&
!a.singleDate&&!b&&0<=p(c,a.month2)||H(c)||(l(c,b?"month2":"month1"),w())});d.find(".prev").click(function(){if(a.stickyMonths){var b=t(a.month1),c=t(a.month2);H(b)||!a.singleDate&&0>=p(c,b)||(l(c,"month2"),l(b,"month1"),u())}else c=(b=e(this).parents("table").hasClass("month2"))?a.month2:a.month1,c=t(c),b&&0>=p(c,a.month1)||H(c)||(l(c,b?"month2":"month1"),w())});d.delegate(".day","click",function(b){b=e(this);if(!b.hasClass("invalid")){var c=b.attr("time");b.addClass("checked");a.singleDate?(a.start=
c,a.end=!1):"week"===a.batchMode?"monday"===a.startOfWeek?(a.start=f(parseInt(c)).startOf("isoweek").valueOf(),a.end=f(parseInt(c)).endOf("isoweek").valueOf()):(a.end=f(parseInt(c)).endOf("week").valueOf(),a.start=f(parseInt(c)).startOf("week").valueOf()):"workweek"===a.batchMode?(a.start=f(parseInt(c)).day(1).valueOf(),a.end=f(parseInt(c)).day(5).valueOf()):"weekend"===a.batchMode?(a.start=f(parseInt(c)).day(6).valueOf(),a.end=f(parseInt(c)).day(7).valueOf()):"month"===a.batchMode?(a.start=f(parseInt(c)).startOf("month").valueOf(),
a.end=f(parseInt(c)).endOf("month").valueOf()):a.start&&a.end||!a.start&&!a.end?(a.start=R(c),a.end=!1):a.start&&(a.end=S(c),a.time.enabled&&N("end",a.end));a.time.enabled&&(a.start&&N("start",a.start),a.end&&N("end",a.end));if(!a.singleDate&&a.start&&a.end&&a.start>a.end){var k=a.end;a.end=S(a.start);a.start=R(k);a.time.enabled&&a.swapTime&&(A("time1",a.start),A("time2",a.end))}a.start=parseInt(a.start);a.end=parseInt(a.end);d.find(".day.hovering").removeClass("hovering");d.find(".date-range-length-tip").hide();
a.start&&!a.end&&(e(m).trigger("datepicker-first-date-selected",{date1:new Date(a.start)}),T(b));P(c);z();y();u();F()}});d.delegate(".day","mouseenter",function(a){T(e(this))});d.delegate(".week-number","click",function(b){var c=e(this);b=parseInt(c.attr("data-start-time"),10);a.startWeek?(d.find(".week-number-selected").removeClass("week-number-selected"),c=new Date(b<a.startWeek?b:a.startWeek),b=new Date(b<a.startWeek?a.startWeek:b),a.startWeek=!1,a.start=f(c).day("monday"==a.startOfWeek?1:0).toDate(),
a.end=f(b).day("monday"==a.startOfWeek?7:6).toDate()):(a.startWeek=b,c.addClass("week-number-selected"),c=new Date(b),a.start=f(c).day("monday"==a.startOfWeek?1:0).toDate(),a.end=f(c).day("monday"==a.startOfWeek?7:6).toDate());P();z();y();u();F()});d.attr("unselectable","on").css("user-select","none").bind("selectstart",function(a){a.preventDefault();return!1});d.find(".apply-btn").click(function(){v();var c=r(new Date(a.start))+a.separator+r(new Date(a.end));e(b).trigger("datepicker-apply",{value:c,
date1:new Date(a.start),date2:new Date(a.end)})});d.find("[custom]").click(function(){var b=e(this).attr("custom");a.start=!1;a.end=!1;d.find(".day.checked").removeClass("checked");a.setValue.call(B,b);z();y(!0);u();a.autoClose&&v()});d.find("[shortcut]").click(function(){var b=e(this).attr("shortcut"),c=new Date,d=!1;if(-1!=b.indexOf("day"))b=parseInt(b.split(",",2)[1],10),d=new Date((new Date).getTime()+864E5*b),c=new Date(c.getTime()+864E5*(0<b?1:-1));else if(-1!=b.indexOf("week")){b=-1!=b.indexOf("prev,")?
-1:1;d=1==b?"monday"==a.startOfWeek?1:0:"monday"==a.startOfWeek?0:6;for(c=new Date(c.getTime()-864E5);c.getDay()!=d;)c=new Date(c.getTime()+864E5*b);d=new Date(c.getTime()+5184E5*b)}else if(-1!=b.indexOf("month"))b=-1!=b.indexOf("prev,")?-1:1,d=1==b?q(c):t(c),d.setDate(1),c=q(d),c.setDate(1),c=new Date(c.getTime()-864E5);else if(-1!=b.indexOf("year"))b=-1!=b.indexOf("prev,")?-1:1,d=new Date,d.setFullYear(c.getFullYear()+b),d.setMonth(0),d.setDate(1),c.setFullYear(c.getFullYear()+b),c.setMonth(11),
c.setDate(31);else if("custom"==b){var f=e(this).html();if(a.customShortcuts&&0<a.customShortcuts.length)for(var k=0;k<a.customShortcuts.length;k++)if(b=a.customShortcuts[k],b.name==f){f=[];(f=b.dates.call())&&2==f.length&&(d=f[0],c=f[1]);f&&1==f.length&&(movetodate=f[0],l(movetodate,"month1"),l(q(movetodate),"month2"),w());break}}d&&c&&(L(d,c),z())});d.find(".time1 input[type=range]").bind("change mousemove",function(a){var b=a.target;a="hour"==b.name?e(b).val().replace(/^(\d{1})$/,"0$1"):void 0;
b="minute"==b.name?e(b).val().replace(/^(\d{1})$/,"0$1"):void 0;M("time1",a,b)});d.find(".time2 input[type=range]").bind("change mousemove",function(a){var b=a.target;a="hour"==b.name?e(b).val().replace(/^(\d{1})$/,"0$1"):void 0;b="minute"==b.name?e(b).val().replace(/^(\d{1})$/,"0$1"):void 0;M("time2",a,b)})}}).call(this);a.alwaysOpen&&J(0);e(this).data("dateRangePicker",{setDateRange:function(b,c,d){"string"==typeof b&&"string"==typeof c&&(b=f(b,a.format).toDate(),c=f(c,a.format).toDate());L(b,c,
d)},clear:function(){a.start=!1;a.end=!1;d.find(".day.checked").removeClass("checked");d.find(".day.last-date-selected").removeClass("last-date-selected");d.find(".day.first-date-selected").removeClass("first-date-selected");a.setValue.call(B,"");z();y();u()},close:v,open:J,getDatePicker:function(){return d},destroy:function(){e(m).unbind(".datepicker");e(m).data("dateRangePicker","");e(m).data("date-picker-opened",null);d.remove();e(window).unbind("resize.datepicker",E);e(document).unbind("click.datepicker",
v)}});e(window).bind("resize.datepicker",E);return this}});
